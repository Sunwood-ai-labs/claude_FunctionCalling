
![](https://raw.githubusercontent.com/Sunwood-ai-labs/claude_FunctionCalling/main/docs/icon.png)

# Claude FunctionCalling Tutorial

**クロードを使った関数呼び出しのデモ**

このリポジトリは、Anthropic社のクロードモデルを使って関数呼び出しを行うデモンストレーションです。クロードに基本的な算術演算を実行させる方法を示しています。

## 機能

- クロードに関数の説明と使用方法を提示
- クロードに関数呼び出しが必要なタスクを指示
- クロードが関数を呼び出したら、応答を一時停止してコード内で関数を呼び出す
- 再度クロードを呼び出し、コードから返された値を渡す
- ユーザーに最終的な応答を返す

## 使用方法

1. `anthropic`ライブラリと`re`モジュールをインポートし、Anthropicクライアントを初期化します。

2. 乗算の質問をクロードに投げ、デフォルトの動作を確認します。

3. 基本的な算術演算を行う`do_pairwise_arithmetic`関数を定義します。

4. クロードに読ませるdocstringを作成し、ツールの説明をフォーマットします。

5. ツールの説明を長いプロンプトテンプレートに挿入し、システムプロンプトを作成します。

6. システムプロンプトを使ってクロードを呼び出し、以前と同じ質問をした場合の出力を確認します。

7. クロードの応答からパラメータを抽出し、`do_pairwise_arithmetic`関数に送ります。

8. 関数の戻り値をクロードが期待する形式でフォーマットします。

9. 元のメッセージ、関数呼び出しまでのクロードの部分的なリターン、関数の結果を組み合わせて、クロードに最終的な出力を生成するためのプロンプトを作成します。

10. 最終的な応答をユーザーに返します。

## 要件

- Python 3.x
- anthropicライブラリ

## インストール

1. このリポジトリをクローンまたはダウンロードします。

2. 必要なライブラリをインストールします。
   ```
   pip install anthropic
   ```

3. Anthropic APIキーを取得し、環境変数に設定します。

4. Jupyter Notebookを起動し、`function_calling.ipynb`を開きます。

5. ノートブックのセルを順番に実行し、結果を確認します。

## 注意事項

- このデモでは、クロード3オプス20240229モデルを使用しています。他のモデルを使用する場合は、`MODEL_NAME`変数を適切に変更してください。

- Anthropic APIキーは、環境変数から読み込まれます。APIキーを設定する方法については、Anthropicのドキュメントを参照してください。

- このリポジトリは、クロードを使った関数呼び出しの基本的な例を示すことを目的としています。実際のアプリケーションでは、より複雑な関数や追加の機能が必要になる場合があります。
